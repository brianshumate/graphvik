$(document).ready(function(){var t=500,r=500,n=d3.select("#vik").append("svg:svg").attr("width",t).attr("height",r);d3.json("/data/gv.json",function(e){var a=self.force=d3.layout.force().nodes(e.nodes).links(e.links).linkDistance(16).gravity(.24).charge(-48).size([t,r]).start(),s=n.selectAll("line.link").data(e.links).enter().append("svg:line").style("stroke",function(t){var r="#1a70ff";return r}).attr("class","link").attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),i=n.selectAll("g.node").data(e.nodes).enter().append("svg:g").attr("class","node").call(a.drag);i.append("svg:image").attr("class","circle").attr("xlink:href",function(t,r){return r=t.name,"/img/"+r}).attr("x","-8px").attr("y","-8px").attr("width","16px").attr("height","16px"),i.append("svg:text").attr("class","nodetext").attr("dx",12).attr("dy",".35em"),a.on("tick",function(){s.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),i.attr("transform",function(t){return"translate("+t.x+","+t.y+")"})})})});