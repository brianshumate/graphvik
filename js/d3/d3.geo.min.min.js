!function(){function n(n){return n.target}function t(n){return n.source}function r(n,t){for(var r=n.coordinates[0],e=0,a=r.length;a>e;e++)t.apply(null,r[e])}function e(n,t){t.apply(null,n.coordinates)}function a(n,t){for(var r=n.coordinates,e=0,a=r.length;a>e;e++)for(var o=r[e][0],u=0,i=o.length;i>u;u++)t.apply(null,o[u])}function o(n,t){for(var r=n.coordinates,e=0,a=r.length;a>e;e++)for(var o=r[e],u=0,i=o.length;i>u;u++)t.apply(null,o[u])}function u(n,t){for(var r=n.coordinates,e=0,a=r.length;a>e;e++)t.apply(null,r[e])}function i(n,t){for(var r=n.features,e=0,a=r.length;a>e;e++)c(r[e].geometry,t)}function l(n,t){c(n.geometry,t)}function c(n,t){n.type in M&&M[n.type](n,t)}function s(n,t){return t&&t.type in n?n[t.type](t):""}function h(){return 0}function g(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}d3.geo={},d3.geo.azimuthal=function(){function n(n){var t=n[0]*f-r,e=n[1]*f,c=Math.cos(t),s=Math.sin(t),h=Math.cos(e),g=Math.sin(e),M="stereographic"===u?1/(1+o*g+a*h*c):1,p=M*h*s,v=M*(o*h*c-a*g);return[i*p+l[0],i*v+l[1]]}var t,r,e,a,o,u="orthographic",i=200,l=[480,250];return n.invert=function(n){var t=(n[0]-l[0])/i,e=(n[1]-l[1])/i,c=Math.sqrt(t*t+e*e),s="stereographic"===u?2*Math.atan(c):Math.asin(c),h=Math.sin(s),g=Math.cos(s);return[(r+Math.atan2(t*h,c*a*g+e*o*h))/f,Math.asin(g*o-e*h*a/c)/f]},n.mode=function(t){return arguments.length?(u=t+"",n):u},n.origin=function(u){return arguments.length?(t=u,r=t[0]*f,e=t[1]*f,a=Math.cos(e),o=Math.sin(e),n):t},n.scale=function(t){return arguments.length?(i=+t,n):i},n.translate=function(t){return arguments.length?(l=[+t[0],+t[1]],n):l},n.origin([0,0])},d3.geo.albers=function(){function n(){var n=f*i[0],l=f*i[1],c=f*u[1],s=Math.sin(n),h=Math.cos(n);return r=f*u[0],e=.5*(s+Math.sin(l)),a=h*h+2*e*s,o=Math.sqrt(a-2*e*Math.sin(c))/e,t}function t(n){var t=e*(f*n[0]-r),u=Math.sqrt(a-2*e*Math.sin(f*n[1]))/e;return[l*u*Math.sin(t)+c[0],l*(u*Math.cos(t)-o)+c[1]]}var r,e,a,o,u=[-98,38],i=[29.5,45.5],l=1e3,c=[480,250];return t.invert=function(n){var t=(n[0]-c[0])/l,u=(n[1]-c[1])/l,i=o+u,s=Math.atan2(t,i),h=Math.sqrt(t*t+i*i);return[(r+s/e)/f,Math.asin((a-h*h*e*e)/(2*e))/f]},t.origin=function(t){return arguments.length?(u=[+t[0],+t[1]],n()):u},t.parallels=function(t){return arguments.length?(i=[+t[0],+t[1]],n()):i},t.scale=function(n){return arguments.length?(l=+n,t):l},t.translate=function(n){return arguments.length?(c=[+n[0],+n[1]],t):c},n()},d3.geo.albersUsa=function(){function n(n){var o=n[0],u=n[1];return(u>50?r:-140>o?e:21>u?a:t)(n)}var t=d3.geo.albers(),r=d3.geo.albers().origin([-160,60]).parallels([55,65]),e=d3.geo.albers().origin([-160,20]).parallels([8,18]),a=d3.geo.albers().origin([-60,10]).parallels([8,18]);return n.scale=function(o){return arguments.length?(t.scale(o),r.scale(.6*o),e.scale(o),a.scale(1.5*o),n.translate(t.translate())):t.scale()},n.translate=function(o){if(!arguments.length)return t.translate();var u=t.scale()/1e3,i=o[0],l=o[1];return t.translate(o),r.translate([i-400*u,l+170*u]),e.translate([i-190*u,l+200*u]),a.translate([i+580*u,l+430*u]),n},n.scale(t.scale())};var f=Math.PI/180;d3.geo.equirectangular=function(){function n(n){var e=n[0]/360,a=-n[1]/360;return[t*e+r[0],t*a+r[1]]}var t=500,r=[480,250];return n.invert=function(n){var e=(n[0]-r[0])/t,a=(n[1]-r[1])/t;return[360*e,-360*a]},n.scale=function(r){return arguments.length?(t=+r,n):t},n.translate=function(t){return arguments.length?(r=[+t[0],+t[1]],n):r},n},d3.geo.mercator=function(){function n(n){var e=n[0]/360,a=-(Math.log(Math.tan(Math.PI/4+n[1]*f/2))/f)/360;return[t*e+r[0],t*Math.max(-.5,Math.min(.5,a))+r[1]]}var t=500,r=[480,250];return n.invert=function(n){var e=(n[0]-r[0])/t,a=(n[1]-r[1])/t;return[360*e,2*Math.atan(Math.exp(-360*a*f))/f-90]},n.scale=function(r){return arguments.length?(t=+r,n):t},n.translate=function(t){return arguments.length?(r=[+t[0],+t[1]],n):r},n},d3.geo.path=function(){function n(n){return Math.abs(d3.geom.polygon(n.map(i)).area())}function t(n){for(var t=d3.geom.polygon(n[0].map(i)),r=t.centroid(1),e=r[0],a=r[1],o=Math.abs(t.area()),u=0,l=n.length;++u<l;)t=d3.geom.polygon(n[u].map(i)),r=t.centroid(1),e-=r[0],a-=r[1],o-=Math.abs(t.area());return[e,a,6*o]}function r(t){for(var r=n(t[0]),e=0,a=t.length;++e<a;)r-=n(t[e]);return r}function e(n){return i(n).join(",")}function a(n,t){return"function"==typeof o&&(u=g(o.apply(this,arguments))),s(l,n)}var o=4.5,u=g(o),i=d3.geo.albersUsa(),l={FeatureCollection:function(n){for(var t=[],r=n.features,e=-1,a=r.length;++e<a;)t.push(s(l,r[e].geometry));return t.join("")},Feature:function(n){return s(l,n.geometry)},Point:function(n){return"M"+e(n.coordinates)+u},MultiPoint:function(n){for(var t=[],r=n.coordinates,a=-1,o=r.length;++a<o;)t.push("M",e(r[a]),u);return t.join("")},LineString:function(n){for(var t=["M"],r=n.coordinates,a=-1,o=r.length;++a<o;)t.push(e(r[a]),"L");return t.pop(),t.join("")},MultiLineString:function(n){for(var t,r,a,o=[],u=n.coordinates,i=-1,l=u.length;++i<l;){for(t=u[i],r=-1,a=t.length,o.push("M");++r<a;)o.push(e(t[r]),"L");o.pop()}return o.join("")},Polygon:function(n){for(var t,r,a,o=[],u=n.coordinates,i=-1,l=u.length;++i<l;){for(t=u[i],r=-1,a=t.length,o.push("M");++r<a;)o.push(e(t[r]),"L");o[o.length-1]="Z"}return o.join("")},MultiPolygon:function(n){for(var t,r,a,o,u,i,l=[],c=n.coordinates,s=-1,h=c.length;++s<h;)for(t=c[s],r=-1,a=t.length;++r<a;){for(o=t[r],u=-1,i=o.length-1,l.push("M");++u<i;)l.push(e(o[u]),"L");l[l.length-1]="Z"}return l.join("")},GeometryCollection:function(n){for(var t=[],r=n.geometries,e=-1,a=r.length;++e<a;)t.push(s(l,r[e]));return t.join("")}},c={FeatureCollection:function(n){for(var t=0,r=n.features,e=-1,a=r.length;++e<a;)t+=s(c,r[e]);return t},Feature:function(n){return s(c,n.geometry)},Point:h,MultiPoint:h,LineString:h,MultiLineString:h,Polygon:function(n){return r(n.coordinates)},MultiPolygon:function(n){for(var t=0,e=n.coordinates,a=-1,o=e.length;++a<o;)t+=r(e[a]);return t},GeometryCollection:function(n){for(var t=0,r=n.geometries,e=-1,a=r.length;++e<a;)t+=s(c,r[e]);return t}},f={Feature:function(n){return s(f,n.geometry)},Polygon:function(n){var r=t(n.coordinates);return[r[0]/r[2],r[1]/r[2]]},MultiPolygon:function(n){for(var r,e=n.coordinates,a=0,o=0,u=0,i=-1,l=e.length;++i<l;)r=t(e[i]),a+=r[0],o+=r[1],u+=r[2];return[a/u,o/u]}};return a.projection=function(n){return i=n,a},a.area=function(n){return s(c,n)},a.centroid=function(n){return s(f,n)},a.pointRadius=function(n){return"function"==typeof n?o=n:(o=+n,u=g(o)),a},a},d3.geo.bounds=function(n){var t=1/0,r=1/0,e=-(1/0),a=-(1/0);return c(n,function(n,o){t>n&&(t=n),n>e&&(e=n),r>o&&(r=o),o>a&&(a=o)}),[[t,r],[e,a]]};var M={Feature:l,FeatureCollection:i,LineString:u,MultiLineString:o,MultiPoint:u,MultiPolygon:a,Point:e,Polygon:r};d3.geo.greatCircle=function(){function r(n,t){for(var r=e.call(this,n,t),u=a.call(this,n,t),i=r[0]*f,l=r[1]*f,c=u[0]*f,s=u[1]*f,h=Math.cos(i),g=Math.sin(i),M=Math.cos(l),p=Math.sin(l),v=Math.cos(c),m=Math.sin(c),d=Math.cos(s),y=Math.sin(s),n=Math.acos(p*y+M*d*Math.cos(c-i)),P=Math.sin(n),b=n/(o-1),L=-b,j=[],t=-1;++t<o;){L+=b;var q=Math.sin(n-L)/P,F=Math.sin(L)/P,C=q*M*h+F*d*v,S=q*M*g+F*d*m,x=q*p+F*y;j[t]=[Math.atan2(S,C)/f,Math.atan2(x,Math.sqrt(C*C+S*S))/f]}return j}var e=t,a=n,o=100,u=6371;return r.source=function(n){return arguments.length?(e=n,r):e},r.target=function(n){return arguments.length?(a=n,r):a},r.n=function(n){return arguments.length?(o=+n,r):o},r.radius=function(n){return arguments.length?(u=+n,r):u},r.distance=function(n,t){var r=e.call(this,n,t),o=a.call(this,n,t),i=r[0]*f,l=r[1]*f,c=o[0]*f,s=o[1]*f,h=Math.sin((s-l)/2),g=Math.sin((c-i)/2),M=h*h+Math.cos(l)*Math.cos(s)*g*g;return 2*u*Math.atan2(Math.sqrt(M),Math.sqrt(1-M))},r}}();