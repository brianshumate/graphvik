!function(){function r(r){return/[",\n]/.test(r)?'"'+r.replace(/\"/g,'""')+'"':r}function n(n){return n.map(r).join(",")}d3.csv=function(r,n){d3.text(r,"text/csv",function(r){n(r&&d3.csv.parse(r))})},d3.csv.parse=function(r){var n;return d3.csv.parseRows(r,function(r,t){if(t){for(var e={},a=-1,s=n.length;++a<s;)e[n[a]]=r[a];return e}return n=r,null})},d3.csv.parseRows=function(r,n){function t(){if(o.lastIndex>=r.length)return u;if(a)return a=!1,s;var n=o.lastIndex;if(34===r.charCodeAt(n)){for(var t=n;t++<r.length;)if(34===r.charCodeAt(t)){if(34!==r.charCodeAt(t+1))break;t++}o.lastIndex=t+2;var e=r.charCodeAt(t+1);return 13===e?(a=!0,10===r.charCodeAt(t+2)&&o.lastIndex++):10===e&&(a=!0),r.substring(n+1,t).replace(/""/g,'"')}var c=o.exec(r);return c?(a=44!==c[0].charCodeAt(0),r.substring(n,c.index)):(o.lastIndex=r.length,r.substring(n))}var e,a,s={},u={},c=[],o=/\r\n|[,\r\n]/g,i=0;for(o.lastIndex=0;(e=t())!==u;){for(var f=[];e!==s&&e!==u;)f.push(e),e=t();(!n||(f=n(f,i++)))&&c.push(f)}return c},d3.csv.format=function(r){return r.map(n).join("\n")}}();