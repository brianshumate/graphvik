!function(){function n(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function t(){return 0}function r(n,t){return t&&t.type in n?n[t.type](t):""}function e(n,t){n.type in M&&M[n.type](n,t)}function a(n,t){e(n.geometry,t)}function o(n,t){for(var r=n.features,a=0,o=r.length;o>a;a++)e(r[a].geometry,t)}function u(n,t){for(var r=n.coordinates,e=0,a=r.length;a>e;e++)t.apply(null,r[e])}function i(n,t){for(var r=n.coordinates,e=0,a=r.length;a>e;e++)for(var o=r[e],u=0,i=o.length;i>u;u++)t.apply(null,o[u])}function l(n,t){for(var r=n.coordinates,e=0,a=r.length;a>e;e++)for(var o=r[e][0],u=0,i=o.length;i>u;u++)t.apply(null,o[u])}function c(n,t){t.apply(null,n.coordinates)}function s(n,t){for(var r=n.coordinates[0],e=0,a=r.length;a>e;e++)t.apply(null,r[e])}function h(n){return n.source}function g(n){return n.target}d3.geo={},d3.geo.azimuthal=function(){function n(n){var t=n[0]*f-r,e=n[1]*f,c=Math.cos(t),s=Math.sin(t),h=Math.cos(e),g=Math.sin(e),M="stereographic"===u?1/(1+o*g+a*h*c):1,p=M*h*s,v=M*(o*h*c-a*g);return[i*p+l[0],i*v+l[1]]}var t,r,e,a,o,u="orthographic",i=200,l=[480,250];return n.invert=function(n){var t=(n[0]-l[0])/i,e=(n[1]-l[1])/i,c=Math.sqrt(t*t+e*e),s="stereographic"===u?2*Math.atan(c):Math.asin(c),h=Math.sin(s),g=Math.cos(s);return[(r+Math.atan2(t*h,c*a*g+e*o*h))/f,Math.asin(g*o-e*h*a/c)/f]},n.mode=function(t){return arguments.length?(u=t+"",n):u},n.origin=function(u){return arguments.length?(t=u,r=t[0]*f,e=t[1]*f,a=Math.cos(e),o=Math.sin(e),n):t},n.scale=function(t){return arguments.length?(i=+t,n):i},n.translate=function(t){return arguments.length?(l=[+t[0],+t[1]],n):l},n.origin([0,0])},d3.geo.albers=function(){function n(n){var t=e*(f*n[0]-r),u=Math.sqrt(a-2*e*Math.sin(f*n[1]))/e;return[l*u*Math.sin(t)+c[0],l*(u*Math.cos(t)-o)+c[1]]}function t(){var t=f*i[0],l=f*i[1],c=f*u[1],s=Math.sin(t),h=Math.cos(t);return r=f*u[0],e=.5*(s+Math.sin(l)),a=h*h+2*e*s,o=Math.sqrt(a-2*e*Math.sin(c))/e,n}var r,e,a,o,u=[-98,38],i=[29.5,45.5],l=1e3,c=[480,250];return n.invert=function(n){var t=(n[0]-c[0])/l,u=(n[1]-c[1])/l,i=o+u,s=Math.atan2(t,i),h=Math.sqrt(t*t+i*i);return[(r+s/e)/f,Math.asin((a-h*h*e*e)/(2*e))/f]},n.origin=function(n){return arguments.length?(u=[+n[0],+n[1]],t()):u},n.parallels=function(n){return arguments.length?(i=[+n[0],+n[1]],t()):i},n.scale=function(t){return arguments.length?(l=+t,n):l},n.translate=function(t){return arguments.length?(c=[+t[0],+t[1]],n):c},t()},d3.geo.albersUsa=function(){function n(n){var o=n[0],u=n[1];return(u>50?r:-140>o?e:21>u?a:t)(n)}var t=d3.geo.albers(),r=d3.geo.albers().origin([-160,60]).parallels([55,65]),e=d3.geo.albers().origin([-160,20]).parallels([8,18]),a=d3.geo.albers().origin([-60,10]).parallels([8,18]);return n.scale=function(o){return arguments.length?(t.scale(o),r.scale(.6*o),e.scale(o),a.scale(1.5*o),n.translate(t.translate())):t.scale()},n.translate=function(o){if(!arguments.length)return t.translate();var u=t.scale()/1e3,i=o[0],l=o[1];return t.translate(o),r.translate([i-400*u,l+170*u]),e.translate([i-190*u,l+200*u]),a.translate([i+580*u,l+430*u]),n},n.scale(t.scale())};var f=Math.PI/180;d3.geo.equirectangular=function(){function n(n){var e=n[0]/360,a=-n[1]/360;return[t*e+r[0],t*a+r[1]]}var t=500,r=[480,250];return n.invert=function(n){var e=(n[0]-r[0])/t,a=(n[1]-r[1])/t;return[360*e,-360*a]},n.scale=function(r){return arguments.length?(t=+r,n):t},n.translate=function(t){return arguments.length?(r=[+t[0],+t[1]],n):r},n},d3.geo.mercator=function(){function n(n){var e=n[0]/360,a=-(Math.log(Math.tan(Math.PI/4+n[1]*f/2))/f)/360;return[t*e+r[0],t*Math.max(-.5,Math.min(.5,a))+r[1]]}var t=500,r=[480,250];return n.invert=function(n){var e=(n[0]-r[0])/t,a=(n[1]-r[1])/t;return[360*e,2*Math.atan(Math.exp(-360*a*f))/f-90]},n.scale=function(r){return arguments.length?(t=+r,n):t},n.translate=function(t){return arguments.length?(r=[+t[0],+t[1]],n):r},n},d3.geo.path=function(){function e(t,e){return"function"==typeof l&&(c=n(l.apply(this,arguments))),r(h,t)}function a(n){return s(n).join(",")}function o(n){for(var t=i(n[0]),r=0,e=n.length;++r<e;)t-=i(n[r]);return t}function u(n){for(var t=d3.geom.polygon(n[0].map(s)),r=t.centroid(1),e=r[0],a=r[1],o=Math.abs(t.area()),u=0,i=n.length;++u<i;)t=d3.geom.polygon(n[u].map(s)),r=t.centroid(1),e-=r[0],a-=r[1],o-=Math.abs(t.area());return[e,a,6*o]}function i(n){return Math.abs(d3.geom.polygon(n.map(s)).area())}var l=4.5,c=n(l),s=d3.geo.albersUsa(),h={FeatureCollection:function(n){for(var t=[],e=n.features,a=-1,o=e.length;++a<o;)t.push(r(h,e[a].geometry));return t.join("")},Feature:function(n){return r(h,n.geometry)},Point:function(n){return"M"+a(n.coordinates)+c},MultiPoint:function(n){for(var t=[],r=n.coordinates,e=-1,o=r.length;++e<o;)t.push("M",a(r[e]),c);return t.join("")},LineString:function(n){for(var t=["M"],r=n.coordinates,e=-1,o=r.length;++e<o;)t.push(a(r[e]),"L");return t.pop(),t.join("")},MultiLineString:function(n){for(var t,r,e,o=[],u=n.coordinates,i=-1,l=u.length;++i<l;){for(t=u[i],r=-1,e=t.length,o.push("M");++r<e;)o.push(a(t[r]),"L");o.pop()}return o.join("")},Polygon:function(n){for(var t,r,e,o=[],u=n.coordinates,i=-1,l=u.length;++i<l;){for(t=u[i],r=-1,e=t.length,o.push("M");++r<e;)o.push(a(t[r]),"L");o[o.length-1]="Z"}return o.join("")},MultiPolygon:function(n){for(var t,r,e,o,u,i,l=[],c=n.coordinates,s=-1,h=c.length;++s<h;)for(t=c[s],r=-1,e=t.length;++r<e;){for(o=t[r],u=-1,i=o.length-1,l.push("M");++u<i;)l.push(a(o[u]),"L");l[l.length-1]="Z"}return l.join("")},GeometryCollection:function(n){for(var t=[],e=n.geometries,a=-1,o=e.length;++a<o;)t.push(r(h,e[a]));return t.join("")}},g={FeatureCollection:function(n){for(var t=0,e=n.features,a=-1,o=e.length;++a<o;)t+=r(g,e[a]);return t},Feature:function(n){return r(g,n.geometry)},Point:t,MultiPoint:t,LineString:t,MultiLineString:t,Polygon:function(n){return o(n.coordinates)},MultiPolygon:function(n){for(var t=0,r=n.coordinates,e=-1,a=r.length;++e<a;)t+=o(r[e]);return t},GeometryCollection:function(n){for(var t=0,e=n.geometries,a=-1,o=e.length;++a<o;)t+=r(g,e[a]);return t}},f={Feature:function(n){return r(f,n.geometry)},Polygon:function(n){var t=u(n.coordinates);return[t[0]/t[2],t[1]/t[2]]},MultiPolygon:function(n){for(var t,r=n.coordinates,e=0,a=0,o=0,i=-1,l=r.length;++i<l;)t=u(r[i]),e+=t[0],a+=t[1],o+=t[2];return[e/o,a/o]}};return e.projection=function(n){return s=n,e},e.area=function(n){return r(g,n)},e.centroid=function(n){return r(f,n)},e.pointRadius=function(t){return"function"==typeof t?l=t:(l=+t,c=n(l)),e},e},d3.geo.bounds=function(n){var t=1/0,r=1/0,a=-(1/0),o=-(1/0);return e(n,function(n,e){t>n&&(t=n),n>a&&(a=n),r>e&&(r=e),e>o&&(o=e)}),[[t,r],[a,o]]};var M={Feature:a,FeatureCollection:o,LineString:u,MultiLineString:i,MultiPoint:u,MultiPolygon:l,Point:c,Polygon:s};d3.geo.greatCircle=function(){function n(n,a){for(var o=t.call(this,n,a),u=r.call(this,n,a),i=o[0]*f,l=o[1]*f,c=u[0]*f,s=u[1]*f,h=Math.cos(i),g=Math.sin(i),M=Math.cos(l),p=Math.sin(l),v=Math.cos(c),m=Math.sin(c),d=Math.cos(s),y=Math.sin(s),n=Math.acos(p*y+M*d*Math.cos(c-i)),P=Math.sin(n),b=n/(e-1),L=-b,j=[],a=-1;++a<e;){L+=b;var q=Math.sin(n-L)/P,F=Math.sin(L)/P,C=q*M*h+F*d*v,S=q*M*g+F*d*m,x=q*p+F*y;j[a]=[Math.atan2(S,C)/f,Math.atan2(x,Math.sqrt(C*C+S*S))/f]}return j}var t=h,r=g,e=100,a=6371;return n.source=function(r){return arguments.length?(t=r,n):t},n.target=function(t){return arguments.length?(r=t,n):r},n.n=function(t){return arguments.length?(e=+t,n):e},n.radius=function(t){return arguments.length?(a=+t,n):a},n.distance=function(n,e){var o=t.call(this,n,e),u=r.call(this,n,e),i=o[0]*f,l=o[1]*f,c=u[0]*f,s=u[1]*f,h=Math.sin((s-l)/2),g=Math.sin((c-i)/2),M=h*h+Math.cos(l)*Math.cos(s)*g*g;return 2*a*Math.atan2(Math.sqrt(M),Math.sqrt(1-M))},n}}();